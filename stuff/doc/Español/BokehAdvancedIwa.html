<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Bokeh avanzado Iwa</title>
  </head>
  <body text="#220011" bgcolor="#f5f5f5">
    <h1><img src=".\img\fx_iwa_bokeh_advanced.png" width="30"
        height="30"> Bokeh avanzado Iwa</h1>
    <h4>● Descripción</h4>
    Este efecto reproduce el desenfoque de una lente de cámara. Los
    valores RVA de cada<br>
    capa se convierten en valores de exposición, se desenfocan con la
    forma del diafragma<br>
    y se componen.<br>
    A diferencia del efecto <a href="./BokehIwa.html">Bokeh Iwa</a>,
    este efecto es capaz de usar imágenes de referencia de <br>
    profundidad para dividir una capa en varias sub capas dentro del
    rango especificado de <br>
    profundidades.<br>
    Además, este efecto es capaz de aplicar valores individuales de
    definición para cada origen<br>
    para ajustar la luminosidad del bokeh.<br>
    Para lograr una mayor velocidad, se utiliza la transformación de
    Fourier durante el<br>
    procesamiento del filtro.
    <h4>● Entradas</h4>
    <ul>
      <li><b>Iris</b> (Diafragma) : Permite conectar una imagen para
        definir la forma del diafragma<br>
        de la cámara. El valor de luminancia de la imagen de entrada se
        utilizará para el<br>
        efecto. Si no hubiera nada conectado al conector Iris, no se
        realizarán cálculos.<br>
        Es posible conectar imágenes RVAα de 8 bits o 16 bits. </li>
      <li><b>Source</b> (Origen) <b>[1～5]</b> : Permite conectar
        imágenes para las capas. El orden de<br>
        las conexiones aquí no afectará el orden de composición de las
        capas. Si no hubiera<br>
        ninguna imagen conectada, el cálculo no se realizará. </li>
      <li><b>Depth</b> (Profundidad) <b>[1～]</b> : Permite conectar la
        imagen de referencia de profundidad<br>
        para dividir la capa en sub capas.<br>
        La luminosidad de cada píxel definirá la profundidad. <br>
        Cuanto mayor sea su valor (más claro), más alejado se encontrará
        de la cámara.</li>
    </ul>
    <h4>● Opciones</h4>
    Comunes
    <ul>
      <li><b>Distancia de enfoque</b> : Si hay una capa en esa posición,
        se<br>
        mostrará enfocada y se compondrá normalmente. 0 representa la
        posición de la cámara.<br>
        (Rango 0.0-1.0) </li>
      <li><b>Intensidad del bokeh</b> : Permite especificar el tamaño
        máximo del<br>
        desenfoque (en mm). Cuando la posición del foco y la de la capa
        estén a una<br>
        distancia de 1.0 entre sí y la opción Ajuste bokeh sea 1, la
        imagen del diafragma<br>
        se ampliará hasta que el ancho de la misma alcance este valor. </li>
      <li><b>Definición general</b> : Valor del gama de la película. Se
        utiliza para convertir entre<br>
        el valor RVA y la exposición. Esto es equivalente al aumento en
        el valor RVA (0.0 a 1.0)<br>
        cuando la exposición aumenta 10 veces. Cuanto más bajo sea el
        valor, más se<br>
        enfatizarán las áreas iluminadas. (Rango 0.05-3.0) </li>
      <li><b>Gama/Definición por origen</b> : Permitirá especificar si
        se usarán valores individuales de<br>
        gama o definición, en vez de un valor general, al convertir los
        valores RVA de la capa a <br>
        valores de exposición. </li>
    </ul>
    De cada Origen
    <ul>
      <li><b>Distancia</b> : La distancia a la que se encuentra la capa
        con respecto a la<br>
        cámara. El orden de composición de las capas se basará en este
        valor. (Rango 0.0-1.0) </li>
      <li><b>Ajuste bokeh</b> : Valor de corrección del tamaño de
        desenfoque.<br>
        El tamaño del desenfoque se multiplicará por este valor,
        manteniendo el orden de<br>
        composición de las capas. Si este valor es 0, la capa se
        compondrá normalmente, sin<br>
        desenfoque, independientemente de la distancia de la capa.
        (Rango 0.0-2.0) </li>
      <li><b>Definición</b> : Definición individual para ser usada al
        convertir los valores RVA de esta capa<br>
        a valores de exposición. </li>
      <li><b>Imagen profundidad</b> : Se especifica el número del
        conector de profundidad (<i>Depth</i>).<br>
        En caso de especificarse un conector <i>Depth</i> disponible,
        esta capa será dividida en <br>
        sub capas a distintas profundidades, dentro del rango
        especificado. </li>
      <li><b>Rango profundidad</b> : Permite especificar el rango de
        profundidades en el que se distribuirán<br>
        las sub capas. </li>
    </ul>
    <h4>● Notas</h4>
    <ul>
      <li>Separar una capa en sub capas es igual que al usar el efecto <a
          href="./BokehRefIwa.html">Bokeh ref Iwa</a> excepto que en<br>
        este caso los siguientes parámetros estarán fijos:<br>
        <ul>
          <li>Precisión de distancia = 10 </li>
          <li>Rellenar huecos = ACTIVA </li>
          <li>Usar mediana = INACTIVA </li>
        </ul>
      </li>
      <li>Al procesar múltiples fotogramas, deberán existir fotogramas
        para las imágenes usadas<br>
        para el diafragma y las capas, durante todo el rango de
        fotogramas a ser procesados. </li>
      <li>Este efecto hace un uso intensivo de memoria RAM. </li>
    </ul>
    <h4>● License Information</h4>
    <ul>
      <li>This effect uses an open source library called Kiss FFT for
        the Fourier transform.<br>
      </li>
    </ul>
    <font size="-1">
      <blockquote> This is the BSD-style license for the KissFFT.<br>
        <br>
        Copyright (c) 2003-2010 Mark Borgerding<br>
        <br>
        All rights reserved.<br>
        <br>
        Redistribution and use in source and binary forms, with or
        without modification, are permitted provided that<br>
        the following conditions are met:<br>
        <br>
        * Redistributions of source code must retain the above copyright
        notice, this list of conditions and the following<br>
        disclaimer.<br>
        * Redistributions in binary form must reproduce the above
        copyright notice, this list of conditions and the<br>
        following disclaimer in the documentation and/or other materials
        provided with the distribution.<br>
        * Neither the author nor the names of any contributors may be
        used to endorse or promote products derived<br>
        from this software without specific prior written permission.<br>
        <br>
        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
        CONTRIBUTORS "AS IS" AND ANY<br>
        EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
        THE IMPLIED WARRANTIES<br>
        OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
        DISCLAIMED. IN NO EVENT<br>
        SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY
        DIRECT, INDIRECT, INCIDENTAL,<br>
        SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
        LIMITED TO, PROCUREMENT<br>
        OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
        OR BUSINESS INTERRUPTION)<br>
        HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
        CONTRACT, STRICT LIABILITY,<br>
        OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
        OUT OF THE USE OF THIS<br>
        SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </blockquote>
    </font>
  </body>
</html>
